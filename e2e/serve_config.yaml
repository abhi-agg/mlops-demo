# This file was generated using the `serve build` command on Ray v2.9.3.
proxy_location: EveryNode

http_options:
  host: 0.0.0.0
  port: 8000

grpc_options:
  port: 9000
  grpc_servicer_functions: []

logging_config:
  encoding: TEXT
  log_level: INFO
  logs_dir: null
  enable_access_log: true

applications:
- name: app1
  route_prefix: /forecast
  import_path: forecast:app_builder
  args:
    namespace: "user:CHANGEME" # TODO, change this!
    flow-name: TrainingFlowBQ
  runtime_env:
    pip:
      - outerbounds[gcp]
      - scikit-learn==1.3.1
  deployments:
  - name: Forecaster

- name: app2
  route_prefix: /multiply
  import_path: multiply:app_builder
  args:
    factor: 4
  runtime_env: {}
  deployments:
  - name: Multiplier

- name: app3
  route_prefix: /code-copilot
  import_path: code-copilot:app_builder
  args: {}
  runtime_env:
    pip:
      - peft @ git+https://github.com/huggingface/peft@a18734d87aa9ae6b94b5bdde192b265bfad7c0b3
      - transformers @ git+https://github.com/huggingface/transformers@00c1d87a7d5c8dfb4554370983b5a3f7c069edd7
      - google-cloud-storage
      - torch==2.0.1
  deployments:
  - name: MozPilot
    ray_actor_options:
      num_gpus: 1
